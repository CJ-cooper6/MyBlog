---
title: 记录一下云服务器部署的mysql数据库被黑
date: 2024/2/22 15:35:09
---

# 记录一下云服务器部署的mysql数据库被黑

最近在学习前端，开发了一个web项目将其部署在服务器上，今天一看，数据库被黑客黑掉了，数据库原本的表都被删除了,新增了`RECOVER_YOUR_DATA`表，里面新增了一条记录，大意是让我48小时之内付款0.015的比特币。好家伙按今天的汇率要5000多人民币（我只有一张表10几条数据。。。）

![image-20240222174533135](/Users/cooper/Library/Application Support/typora-user-images/image-20240222174533135.png)

![image-20240222174814651](/Users/cooper/Library/Application Support/typora-user-images/image-20240222174814651.png)

![image-20240222175104093](/Users/cooper/Library/Application Support/typora-user-images/image-20240222175104093.png)

第一次遇到网络敲诈，金额还不小，通过这次经历也让我意识到 **数据库安全问题** 。



### 安全措施

分成两个方面来考虑，第一是确保数据库的安全，第二是提供远程访问的能力。



**数据库安全措施**

- 复杂化数据库用户密码
- 定期备份数据库
- 不要给用户分配过高的权限
- 修改数据库默认端口
- 数据库服务器和应用服务器之间隔离
- 代码中不要保存明文数据库密码



**远程访问**

如果确实需要远程访问的能力，可采取以下措施：

- **虚拟私有网络（VPN）**：通过VPN连接到数据库服务器。

- **SSH隧道**：使用SSH隧道技术将数据库端口映射到本地计算机上的某个端口，以此来加密数据库连接。

- **防火墙设置**：在服务器防火墙上设置规则，仅允许特定端口（例如数据库端口）从特定的来源IP进行访问。

- **白名单IP地址**：可以配置数据库服务器只接受来自特定IP地址的连接请求，将你的本地开发环境IP地址加入到白名单中。

  

